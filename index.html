<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>IQ Test</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #eef2f5;
      margin: 0;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .container {
      width: 90%;
      max-width: 600px;
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 16px rgba(0,0,0,0.1);
      padding: 30px;
      text-align: center;
    }
    h1 { font-size: 2em; margin-bottom: 0.2em; }
    p, label { font-size: 1.1em; margin: 12px 0; }
    input[type="date"] {
      padding: 8px;
      font-size: 1em;
      margin: 10px 0;
    }
    button {
      padding: 12px 24px;
      font-size: 1.1em;
      margin-top: 20px;
      cursor: pointer;
      border: none;
      background-color: #007bff;
      color: white;
      border-radius: 6px;
    }
    button:hover { background-color: #0056b3; }
    .answers button {
      width: 100%;
      max-width: 300px;
      margin: 8px auto;
    }
    a.payment-link {
      display: inline-block;
      padding: 12px 24px;
      background-color: #007bff;
      color: white;
      border-radius: 6px;
      font-size: 1.1em;
      margin-top: 20px;
      text-decoration: none;
      cursor: pointer;
    }
    a.payment-link:hover {
      background-color: #0056b3;
    }
  </style>
</head>
<body>
  <div class="container" id="app">
    <h1>Welcome to the IQ Test</h1>
    <p>Find out your IQ now</p>
    <label for="dob">Enter your date of birth:</label><br>
    <input type="date" id="dob"><br>
    <button id="startBtn">Start Test</button>
  </div>

  <script>
    const app = document.getElementById("app");

    document.addEventListener("DOMContentLoaded", () => {
      const startBtn = document.getElementById("startBtn");
      let current = 0, score = 0, birthYear = 2000;
      const questions = [
        { q:"What comes next: 2, 4, 8, 16, ?", a:["32","30","24","20"], correct:0},
        { q:"Odd one out: Apple, Banana, Carrot, Grape?", a:["Apple","Banana","Carrot","Grape"], correct:2},
        { q:"15% of 200 is:", a:["25","30","35","40"], correct:1},
        { q:"Rearranged: 'RTAEHEC'?", a:["TEACHER","REACHT","CATHER","CHART"], correct:0},
        { q:"Which shape has 8 sides?", a:["Octagon","Hexagon","Pentagon","Nonagon"], correct:0},
        { q:"Which number is the square of 13?", a:["169","144","121","196"], correct:0},
        { q:"Fibonacci sequence: 1,1,2,3,5,8, ?", a:["11","12","13","15"], correct:2},
        { q:"Opposite of 'ascend'?", a:["Rise","Drop","Climb","Grow"], correct:1},
        { q:"A cube has how many faces?", a:["4","6","8","10"], correct:1},
        { q:"Which is not a prime number?", a:["11","13","15","17"], correct:2},
        { q:"What is 111 in binary?", a:["1101111","1001111","110111","1111111"], correct:0},
        { q:"Louis is Amy’s mother’s brother. Amy was born a year ago, and is 8 years younger than Louis, who is 13 yrs younger than his only sister. In how many years will Louis be half his sister’s age?", a:["3","6","5","4"], correct:3},
        { q:"A, C, F, J, O, ?", a:["Q","S","U","W"], correct:2},
        { q:"Jim, Bob, Ben & Tom are friends. One of them has a marble. Jim says 'I dont have the marble', Bob says 'Ben has the marble', Ben says 'Tom has the marble, and Tom says 'Bob is lying'. Only one of them is telling the truth. Who has the marble?", a:["Jim","Bob","Ben","Tom"], correct:0},
        { q:"Complete: Bird is to Fly as Fish is to...?", a:["Swim","Dive","Jump","Eat"], correct:0},
        { q:"a=1,b=2...z=26: Which word has highest value?", a:["genius","think","smart","mind"], correct:0},
        { q:"Which is a palindrome?", a:["MADAM","LEVEL","RACECAR","All of them"], correct:3},
        { q:"Next: 3,6,11,18, ?", a:["27","26","25","30"], correct:0},
        { q:"How many ways arrange letters in 'blip'?", a:["36","16","24","64"], correct:2},
        { q:"All trups are bloogs. Some bloogs are gricks. Which statement is most accurate?", a:["Some trups are gricks","All trups are gricks","No gricks are trups","It cannot be determined if any gricks are trups"], correct:3}
      ];

      startBtn.addEventListener("click", () => {
        const dob = document.getElementById("dob").value;
        if (!dob) return alert("Please enter your date of birth.");
        birthYear = new Date(dob).getFullYear();
        showQuestion();
      });

      window.checkAnswer = function(selected) {
        if (selected === questions[current].correct) score++;
        current++;
        showQuestion();
      };

      function showQuestion() {
        if (current >= questions.length) return showResult();
        const q = questions[current];
        app.innerHTML = `
          <div class="container">
            <h1>Question ${current+1} / ${questions.length}</h1>
            <p>${q.q}</p>
            <div class="answers">
              ${q.a.map((opt,i)=>
                `<button onclick="checkAnswer(${i})">${opt}</button>`).join('')}
            </div>
          </div>`;
      }

      function showResult() {
        const age = new Date().getFullYear() - birthYear;
        let iq = (80 + (score/questions.length)*80);
        iq *= age<18?1.05: age>50?0.95:1;
        iq = Math.round(iq);
        localStorage.setItem("finalIQ", iq);
        app.innerHTML = `
          <div class="container">
            <h1>All done!</h1>
            <p>You got ${score} / ${questions.length} correct.</p>
            <a href="https://buy.stripe.com/14AbJ2ex19NfbpP6bg5Ne00" target="_blank" rel="noopener noreferrer" class="payment-link">
              Proceed to Payment
            </a>
          </div>`;
      }
    });
  </script>
</body>
</html>

